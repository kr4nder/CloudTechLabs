# im tired af
## Ставим docker
![image](https://github.com/user-attachments/assets/9a2a4b70-6351-41e2-889b-09c93f626caa)
## создаем докерфайлы
![image](https://github.com/user-attachments/assets/b586020d-7ed3-431c-a290-cb6a29cc3d82)
## просим ии сгенерить какой-нибудь баш скрипт, он выбрал вот этот, которому нужен curl
![image](https://github.com/user-attachments/assets/af1cfd05-dae0-4a30-aeac-ac366ec8415c)
## пишем плохой Dockerfile
![image](https://github.com/user-attachments/assets/d773ae8a-ee50-4a1e-aa70-5dd7d8a39bb9)
## пишем хороший Dockerfile
![image](https://github.com/user-attachments/assets/94a58ae3-dbbb-4f8f-9486-96a11b183a74)
# что не так
## Использование большого базового образа (ubuntu:18.04):

### Поч не оч: образ ubuntu содержит много ненужных библиотек -> больше размер и время сборки контейнера
### Исправление: юзаем debian:bullseye-slim, т.к нужны минимальный набор инструментов - запустить баш скрипт.
### Влияние на результат: уменьшен размер образа и сокращено время загрузки.

## Установка пакетов без оптимизации:
### Поч не оч: установка лишних зависимостей, которые могут быть не нужны
### Исправление: флаг --no-install-recommends для установки только необходимых пакетов (bash, curl) -> контейнер легче -> мы счастливы
### Влияние на результат: уменьшено количество установленных пакетов и потенциальных уязвимостей.

## Копирование всех файлов проекта:
### Поч не оч: копируем все файлы в контейнер -> копируем ненужные или временные файлы
### Исправление: копируем только необходимые файлы, то есть только наш script.sh, что оптимизирует размер контейнера и упрощает его структуру
### Влияние на результат: улучшена эффективность копирования и сборки контейнера

## все сбилдилось ура, размер хорошего меньше размера плохого -> кайф
![image](https://github.com/user-attachments/assets/9febbd56-f7c9-4ab1-8775-94d396a6637c)

# Плохие практики работы с контейнерами:
## Отсутствие лимитов на ресурсы контейнера
### если не ограничить, то контейнер схавает всю память и cpu. У меня aafire схавал всю память в прошлом году в лабе по информатике, нужно было вычищать за ним.
### Тогда я использовал --log-opt max-size - он хавал логами, еще можно --memory и --cpus

## Неудаление остановленных контейнеров:
### остановленные контейнеры занимают дисковое пространство - это очев плохо
### почистите остановленные контейнеры на всякий docker container prune 
### ну еще и лишние образы желательно чистить, но тут про контейнеры спрашивают
# метаирония
![image](https://github.com/user-attachments/assets/f5f7e977-7e58-47d8-81d0-6d044643feb7)



